# Vivado Base Projects
## Usage
This is a repo of base projects for the different boards I have worked with. As of now, this is just the Arty A7-35T. As I work with more, I'll probably come back and set up new base projects. To make a new Arty project, use:
```
./make_new_arty_project <Project Name>
```
I generally add an alias for this to my `~/.bash_aliases`:
```
vivado_setup() {
	source /tools/Xilinx/Vivado/2022.2/settings64.sh
	alias vivado="vivado -log /tmp/vivado.log -journal /tmp/vivado.jou"
	alias make_new_arty_project="/home/connor/VivadoBaseProjects/scripts/make_new_arty_project.sh"
}
```
To then open that project with Vivado, use the command `vivado` from the new project directory, which will be whatever your `<Project Name>` was. From here, use the "Run Tcl Script" option under the Tools dropdown. Select the tcl script, and run. This should regenerate your Vivado project each time!

The most important thing with making new project files is that you DO NOT save them internally to the project. Make sure to save them to the respective locations here. Also, any time modifications are DONE, you must use the "Write Tcl" command to overwrite the old tcl file. This is especially important if you have added design sources. Additionally, after launching a project, there will be a lot of files generated by vivado. These need to be deleted. For example, if you run the `ArtyBaseProject.tcl` from Vivado having launched from the above directory, a project directory of the name `ArtyBaseProject` will be created. This should be removed before you try to open the project at a future time with Vivado.
## Base Project Structure
Version control with Vivado generally sucks. So I spent a while trying to understand how to use the "Write Tcl" command to make projects more portable. [This video](https://www.youtube.com/watch?v=9f4i1Fq7xak) was super helpful in understanding this. 

Generall speaking, you'll want to keep the directory structure as generated by the new project script. The structure is as follows:
```
connor@xps13:~/VivadoBaseProjects/ArtyBaseProject$ tree
.
├── ArtyBaseProject.tcl
├── ip
├── src
│   └── ArtyBaseProject_top.sv
├── tb
│   └── ArtyBaseProject_tb.sv
└── xdc
    └── Arty-A7-35-Master.xdc
```

I don't use ip sources yet, but they'd go in the respective folder. 
